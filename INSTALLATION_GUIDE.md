# ðŸŒŸ Glow Mall - Complete Installation Guide

## Prerequisites

Before you begin, make sure you have the following installed:

- **Node.js** (v18 or higher) - [Download](https://nodejs.org/)
- **PHP** (v8.1 or higher) - [Download](https://www.php.net/downloads)
- **Composer** - [Download](https://getcomposer.org/download/)
- **MySQL** or **PostgreSQL** - [Download](https://www.mysql.com/downloads/)
- **Git** - [Download](https://git-scm.com/downloads)

## Quick Setup (Automated)

### Option 1: Complete Setup (Recommended)

\`\`\`bash
# Make the script executable
chmod +x COMPLETE_SETUP.sh

# Run the complete setup
./COMPLETE_SETUP.sh
\`\`\`

### Option 2: Manual Setup

#### Frontend Setup

\`\`\`bash
# Install dependencies
npm install

# Create environment file
cat > .env.local << EOF
NEXT_PUBLIC_API_URL=http://localhost:8000/api
NEXT_PUBLIC_DEV_SUPABASE_REDIRECT_URL=http://localhost:3000
EOF

# Start development server
npm run dev
\`\`\`

#### Backend Setup

\`\`\`bash
# Navigate to Laravel directory
cd laravel

# Install dependencies
composer install

# Generate app key
php artisan key:generate

# Create environment file
cp .env.example .env

# Update .env with your database credentials
# Then run migrations
php artisan migrate

# Seed the database
php artisan db:seed

# Start Laravel server
php artisan serve
\`\`\`

## Environment Configuration

### Frontend (.env.local)

\`\`\`env
# API Configuration
NEXT_PUBLIC_API_URL=http://localhost:8000/api

# Development
NEXT_PUBLIC_DEV_SUPABASE_REDIRECT_URL=http://localhost:3000
\`\`\`

### Backend (laravel/.env)

\`\`\`env
APP_NAME=GlowMall
APP_ENV=local
APP_KEY=base64:xxxxx (generated by php artisan key:generate)
APP_DEBUG=true
APP_URL=http://localhost:8000

DB_CONNECTION=mysql
DB_HOST=127.0.0.1
DB_PORT=3306
DB_DATABASE=glow_mall
DB_USERNAME=root
DB_PASSWORD=

SANCTUM_STATEFUL_DOMAINS=localhost:3000
SESSION_DOMAIN=localhost
\`\`\`

## Database Setup

### Create Database

\`\`\`bash
# MySQL
mysql -u root -p
CREATE DATABASE glow_mall;
EXIT;

# Or PostgreSQL
createdb glow_mall
\`\`\`

### Run Migrations

\`\`\`bash
cd laravel
php artisan migrate
php artisan db:seed
\`\`\`

## Running the Application

### Terminal 1 - Backend

\`\`\`bash
cd laravel
php artisan serve
\`\`\`

The backend will run at: `http://localhost:8000`

### Terminal 2 - Frontend

\`\`\`bash
npm run dev
\`\`\`

The frontend will run at: `http://localhost:3000`

## Default Credentials

- **Admin Email**: admin@glowmall.com
- **Admin Password**: admin123

## API Endpoints

### Authentication

\`\`\`
POST   /api/auth/signup          - Register new user
POST   /api/auth/login           - Login user
POST   /api/auth/admin-login     - Admin login
POST   /api/auth/logout          - Logout user
GET    /api/auth/me              - Get current user
\`\`\`

### Products

\`\`\`
GET    /api/products             - List all products
GET    /api/products/{id}        - Get product details
POST   /api/products             - Create product (admin)
PUT    /api/products/{id}        - Update product (admin)
DELETE /api/products/{id}        - Delete product (admin)
\`\`\`

### Brands

\`\`\`
GET    /api/brands               - List all brands
POST   /api/brands               - Create brand (admin)
PUT    /api/brands/{id}          - Update brand (admin)
DELETE /api/brands/{id}          - Delete brand (admin)
\`\`\`

### Cart

\`\`\`
GET    /api/cart                 - Get user cart
POST   /api/cart/items           - Add item to cart
PUT    /api/cart/items/{id}      - Update cart item
DELETE /api/cart/items/{id}      - Remove from cart
\`\`\`

### Orders

\`\`\`
GET    /api/orders               - List user orders
POST   /api/orders               - Create order
GET    /api/orders/{id}          - Get order details
\`\`\`

### Skin Score

\`\`\`
POST   /api/skinscore            - Calculate skin score
GET    /api/skinscore            - Get user skin score
\`\`\`

## Troubleshooting

### Port Already in Use

\`\`\`bash
# Change Laravel port
php artisan serve --port=8001

# Change Next.js port
npm run dev -- -p 3001
\`\`\`

### Database Connection Error

- Check your `.env` file database credentials
- Ensure MySQL/PostgreSQL is running
- Verify the database exists

### CORS Issues

- Update `SANCTUM_STATEFUL_DOMAINS` in `laravel/.env`
- Ensure `NEXT_PUBLIC_API_URL` matches your backend URL

### JWT Token Issues

- Clear browser localStorage
- Logout and login again
- Check browser console for token errors

## Deployment

### Frontend (Vercel)

\`\`\`bash
npm run build
# Push to GitHub and connect to Vercel
\`\`\`

### Backend (Any PHP Hosting)

\`\`\`bash
# Build for production
php artisan config:cache
php artisan route:cache
php artisan view:cache

# Upload to hosting
# Run migrations on production
php artisan migrate --force
\`\`\`

## Support

For issues or questions, please check:
- Laravel Documentation: https://laravel.com/docs
- Next.js Documentation: https://nextjs.org/docs
- API Documentation in `/laravel/API_DOCUMENTATION.md`

---

Happy coding! ðŸš€
